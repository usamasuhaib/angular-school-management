import{B as r,C as i,D as l,I as C,O as a,R as b,W as x,X as R,ba as L,d as I,da as d,e as g,f as E,fa as k,h as f,i as h,na as M,oa as c,pa as v,q as p,qa as P,r as m,ra as O,sa as y,ta as _,ua as S,va as D,wa as F,xa as G,z as u,za as T}from"./chunk-LUBACFFS.js";var N=(()=>{let t=class t{constructor(n,e){this.httpClient=n,this.router=e,this.baseUrl="http://localhost:5182"}getToken(){return localStorage.getItem("token")}isAuthenticated(){return!!this.getToken()}logout(){localStorage.removeItem("token"),this.router.navigate(["/user/login"])}createUser(n){return this.httpClient.post(this.baseUrl+"/api/Authentication/Register",n)}login(n){return this.httpClient.post(this.baseUrl+"/api/Authentication/Login",n)}};t.\u0275fac=function(e){return new(e||t)(E(R),E(d))},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var U=(()=>{let t=class t{constructor(n,e,s){this.router=n,this.formBuilder=e,this.authService=s,this.loginForm=this.formBuilder.group({email:["",[c.required,c.email]],password:["",[c.required]]})}onLogin(){console.log(this.loginForm.value);let n={email:this.loginForm.value.email,password:this.loginForm.value.password};this.authService.login(n).subscribe(e=>{e.success&&e.token?(localStorage.setItem("token",e.token),console.log(e.token),this.router.navigate(["/dashboard"])):console.error("Login failed")},e=>{console.error("Login error:",e)})}};t.\u0275fac=function(e){return new(e||t)(m(d),m(S),m(N))},t.\u0275cmp=f({type:t,selectors:[["app-login-form"]],standalone:!0,features:[b],decls:16,vars:1,consts:[[1,"container"],[1,"form-body"],[1,"login-header"],[1,"form",3,"ngSubmit","formGroup"],[1,"input-element"],["for",""],["type","text","formControlName","email"],["type","password","formControlName","password"],[1,"input-btn"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),a(3," User Login "),i(),r(4,"form",3),C("ngSubmit",function(){return s.onLogin()}),r(5,"div",4)(6,"label",5),a(7,"Email"),i(),l(8,"input",6),i(),r(9,"div",4)(10,"label",5),a(11,"Password"),i(),l(12,"input",7),i(),r(13,"div",8)(14,"button"),a(15,"Login"),i()()()()()),e&2&&(p(4),u("formGroup",s.loginForm))},dependencies:[F,O,M,v,P,y,_,x],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]{width:40%;height:fit-content;background-color:#fff;box-shadow:5px 5px 5px #939393;border-radius:10px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{text-align:center;padding-top:10px;font-size:20px;font-weight:700}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:25px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-element[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0 0 10px;padding:10px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-element[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;height:30px;border-radius:10px;border:1px solid black;margin-top:5px;padding-left:8px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]{margin:10px 0 10px 20px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;height:30px;border-radius:8px;border:none;background-color:#3d6ac8;color:#fff}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7290dd;color:#fff;cursor:pointer}"]});let o=t;return o})();var V=(()=>{let t=class t{constructor(n,e,s,j,z){this.router=n,this.formBuilder=e,this.activeRoute=s,this.authService=j,this.toaster=z,this.registrationForm=this.formBuilder.group({id:[""],userName:["",[c.required]],email:["",[c.required,c.email]],password:["",[c.required]]})}register(){console.log(this.registrationForm.value);let n={userName:this.registrationForm.value.userName,email:this.registrationForm.value.email,password:this.registrationForm.value.password};this.authService.createUser(n).subscribe(()=>{console.log("User Registered Succesfully"),this.toaster.success("user Registered Successfully"),this.router.navigate(["./user/login"])})}};t.\u0275fac=function(e){return new(e||t)(m(d),m(S),m(L),m(N),m(G))},t.\u0275cmp=f({type:t,selectors:[["app-registration-form"]],standalone:!0,features:[b],decls:24,vars:2,consts:[[1,"container"],[1,"form-body"],[1,"login-header"],[1,"form",3,"ngSubmit","formGroup"],[1,"input-element"],["for",""],["type","text","formControlName","userName"],["type","text","formControlName","email"],["type","password","formControlName","password"],["type","password"],[1,"input-btn"],[3,"disabled"]],template:function(e,s){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),a(3," User Registration "),i(),r(4,"form",3),C("ngSubmit",function(){return s.register()}),r(5,"div",4)(6,"label",5),a(7,"Username"),i(),l(8,"input",6),i(),r(9,"div",4)(10,"label",5),a(11,"Email"),i(),l(12,"input",7),i(),r(13,"div",4)(14,"label",5),a(15,"Password"),i(),l(16,"input",8),i(),r(17,"div",4)(18,"label",5),a(19,"Confirm-Password"),i(),l(20,"input",9),i(),r(21,"div",10)(22,"button",11),a(23,"Register"),i()()()()()),e&2&&(p(4),u("formGroup",s.registrationForm),p(18),u("disabled",!s.registrationForm.valid))},dependencies:[F,O,M,v,P,y,_,D,T],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]{width:40%;height:fit-content;background-color:#fff;box-shadow:5px 5px 5px #939393;border-radius:10px;margin-top:15px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:20px;font-weight:700}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:25px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-element[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0 0 10px;padding:10px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-element[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;height:30px;border-radius:10px;border:1px solid black;margin-top:5px;padding-left:8px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]{margin:10px 0 10px 20px}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;height:30px;border-radius:8px;border:none;background-color:#3d6ac8;color:#fff}.container[_ngcontent-%COMP%]   .form-body[_ngcontent-%COMP%]   .input-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#7290dd;color:#fff;cursor:pointer}"]});let o=t;return o})();var J=[{path:"login",component:U},{path:"register",component:V}],q=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=g({imports:[k.forChild(J),k]});let o=t;return o})();var st=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=g({imports:[x,q]});let o=t;return o})();export{st as UserModule};
